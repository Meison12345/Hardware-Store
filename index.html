<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style/normalize.css">
    <link rel="stylesheet" href="style/style.css">
</head>

<body>

    <form class="form-center">
        <p class="form-center-text">Вы хотели бы сотрудничать с нами и открыть магазин в Outlet Village Белая Дача? Просьба направить Вашу информацию. </p>
        <div class="form-wrapper">
            <div class="form-element">
                <p class="form-element-text">НАЗВАНИЕ БРЕНДА <span class="form-element-star">*</span></p>
                <input type="text" name="name-brand" class="form-element-input" id="name-brand">
            </div>

            <div class="form-element">
                <p class="form-element-text">CТРАНА ПРОИСХОЖДЕНИЯ БРЕНДА <span class="form-element-star">*</span></p>
                <input type="text" name="town-created" class="form-element-input" id="town-created">
            </div>
        </div>


        <div class="form-wrapper">
            <div class="form-element">
                <p class="form-element-text">БРЕНД ПРЕДСТАВЛЕН <span class="form-element-star">*</span></p>
                <select class="form-element-input brand-view-start" id="brand-view">
                    <option value="">Выберите</option>
                    <option name="first" value="Собственником">Собственником</option>
                    <option name="second" value="На основании договора франчайзинга">На основании договора франчайзинга
                    </option>
                </select>
            </div>

            <div class="form-element">
                <p class="form-element-text">САЙТ</p>
                <input type="text" name="site" class="form-element-input">
            </div>
        </div>


        <div class="form-wrapper">
            <div class="form-element">
                <p class="form-element-text">НАЗВАНИЕ ЮРИДИЧЕСКОГО ЛИЦА или ИП <span class="form-element-star">*</span>
                </p>
                <input type="text" name="name-face" class="form-element-input" id="name-face">
            </div>

            <div class="form-element form-element-double">
                <p class="form-element-text">НЕОБХОДИМАЯ ПЛОЩАДЬ МАГАЗИНА (КВ.М)</p>
                <div class="form-element-double-input">
                    <p class="form-mark"><span class="form-element-left-text">от</span><input type="text" class="form-element-square"></p>
                    <p class="form-mark"><span class="form-element-left-text">до</span><input type="text" class="form-element-square"></p>
                </div>
            </div>
        </div>



        <div class="form-wrapper">
            <div class="form-element">
                <p class="form-element-text">КОЛИЧЕСТВО МАГАЗИНОВ В РОССИИ</p>
                <input type="text" name="count-in-russia" class="form-element-input">
            </div>

            <div class="form-element">
                <p class="form-element-text">КОЛИЧЕСТВО МАГАЗИНОВ В МИРЕ <span class="form-element-star">*</span></p>
                <input type="text" name="count-in-world" class="form-element-input" id="count-shop">
            </div>
        </div>

        <div class="form-element form-element_">
            <p class="form-element-text">КОНТАКТНОЕ ЛИЦО (ФИО) <span class="form-element-star">*</span></p>
            <input type="text" name="contact-face" class="form-element-input form-element-input_" id="contact-face">
        </div>
        </div>


        <div class="form-wrapper">
            <div class="form-element">
                <p class="form-element-text">КОНТАКТНЫЙ ТЕЛЕФОН <span class="form-element-star">*</span></p>
                <input type="tel" name="contact-number" class="form-element-input" id="contact-number">
            </div>

            <div class="form-element">
                <p class="form-element-text">E-MAIL <span class="form-element-star">*</span></p>
                <input type="email" name="contact-email" class="form-element-input" id="contact-email">
            </div>
        </div>

        <div class="form-wrapper-button">
            <div class="form-wrapper-text">
                <p class="form-button-top-text">Прикрепить файл (до 5 Mb):</p>
                <div class="file-dropper-wrapper">
                    <span class="file-dropper">Обзор</span>
                    <input id="file-dropper-shadow" type="file" name="file-dropper" style="display: none;" class="file-dropper-none">
                    <label for="file-dropper-shadow" class="file-dropper-left-text">Файл не выбран</label>
                </div>
            </div>
            <button class="form-button">Отправить</button>
        </div>
    </form>
    <script>
        const fileName = document.querySelector('.file-dropper-left-text');
        const brandView = document.querySelector('#brand-view');
        document.querySelector('.file-dropper').addEventListener('click', function(e) {
            document.querySelector(".file-dropper-none").click();
        });

        document.querySelector('.file-dropper-wrapper').addEventListener('change', function(e) {
            document.querySelector(".file-dropper-none").click();
            if (document.querySelector('#file-dropper-shadow').files.length >= 1) {
                fileName.textContent = document.querySelector('#file-dropper-shadow').files[0].name;
            }
        });

        let positionChevron = window.getComputedStyle(brandView, false).backgroundImage;
        brandView.addEventListener('click', function(e) {
            this.classList.toggle('brand-view-rotate');
        });

        let positionChevronPx = window.getComputedStyle(brandView, false).backgroundPositionX;
        window.addEventListener('resize', function(e) {
            console.log(e);
            let parentWidth = +window.getComputedStyle(brandView).width.slice(0, -2);
            // if (document.querySelector('.brand-view-rotate') != null) {
            //     let b = +window.getComputedStyle(document.querySelector('.brand-view-rotate')).backgroundPositionX.slice(0, -2);
            // }
            brandView.style.backgroundPositionX = `${parentWidth - 30}px`;
            // if (document.querySelector('.brand-view-rotate') != null) {
            //     document.querySelector('.brand-view-rotate').style.backgroundPositionX = `${parentWidth - 30}px`;
            // }
        });

        setInterval(() => {
            console.log(+window.getComputedStyle(brandView).width.slice(0, -2));
        }, 500);
        // let resizeObserver = new ResizeObserver(function(param) {
        //     let a = +window.getComputedStyle(document.querySelector('#brand-view')).backgroundPositionX.slice(0, -2);
        //     if (document.querySelector('.brand-view-rotate') != null) {
        //         let b = +window.getComputedStyle(document.querySelector('.brand-view-rotate')).backgroundPositionX.slice(0, -2);
        //     }
        //     console.log(param[0]);
        //     document.querySelector('#brand-view').style.backgroundPositionX = `${a - param[0].contentRect.left}px`;
        //     if (document.querySelector('.brand-view-rotate') != null) {
        //         document.querySelector('.brand-view-rotate').style.backgroundPositionX = `${a - param[0].contentRect.left}px`;
        //     }
        //     // a = `${a - param[0].contentRect.left}`;
        //     console.log(document.querySelector('#brand-view').style.backgroundPositionX);
        // });
        // resizeObserver.observe(document.querySelector('#brand-view'));
    </script>
</body>

</html>